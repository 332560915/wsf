<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>WS02 WSF WSDL API</title>
  <link href="style/api_style.css" rel="stylesheet" type="text/css" media="all" />
</head>

<body>
<h1>
    WSDL Mode
</h1>
<p>
    A user can provide a WSDL (Web Services Description Language) file to obtain a proxy&nbsp;
    and invoke a service. This is a very convenient way of implementing a client.</p>
    <p>
        Following options can be used to configure WSDL mode on client side.</p>
 <p>
        <h2 id="ws_client_options">WSClient Options for WSDL Mode</h2>
    </p>
    <table border="1">
        <tr>
            <td style="width: 100px; height: 15px">
                <strong>Option </strong>
            </td>
            <td style="width: 100px; height: 15px">
                <strong>Data Type</strong></td>
            <td style="width: 100px; height: 15px">
                <strong>Value Domain</strong></td>
            <td style="width: 100px; height: 15px">
                <strong>Default Value</strong></td>
            <td style="width: 373px; height: 15px">
                <strong>Description</strong></td>
        </tr>
          <tr>
                <td style="width: 100px; height: 21px">
                    wsdl</td>
                <td style="width: 100px; height: 21px">
                    string</td>
                <td style="width: 100px; height: 21px">
                    this should be a URI or&nbsp; a filename</td>
                <td style="width: 100px; height: 21px">
                    none</td>
                <td style="width: 373px; height: 21px">
                    user can provide a WSDL file or a URL of the WSDL file for this option</td>
            </tr>
          
    </table>
    <h4 id="ws_client_methods">WSClient Methods Related to WSDL Mode</h4>
    <h3>WSClientProxy getProxy()</h3>
    Returns a client proxy object which can be used to access a service endpoint
    coveniently using dynamic invocation.<br />

    <h2 id="wsclientproxy">WSClientProxy Class</h2>
    <p>
    WSClientProxy is a class that can be used as the proxy for invoking services.</p>
    <h4>Methods</h4>
        <h5>
            mixed WSClientProxy::__call(string function_name, array arguments, array options)</h5>
    <p>
        In wsdl mode , you can simply call the the operations defined in wsdl as functions
        of WSClientProxy. This may return one value or multiple values. If only one value
        is returned, it will simply , it will be a simple value( eg a string or an integer).
        If multiple values are returned __call will return an associative array of named
        output parameters.</p>
    <p>
            Following is a sample code demostrating the use of WSClientProxy. Consider we have
            a wsdl which defines an operation
            "echoString" which echos a given value.
    </p>
        <pre>            $client = new WSClient(array("wsdl"=&gt;"echo.wsdl"));
            $proxy = $client-&gt;getProxy();
            $value = $proxy-&gt;echoString("Hello World");
        </pre>
     
     <h2 id="wsservice_wsdl_mode">Writing a Service to use WSDL mode</h2>
     <p>   By default, WSO2 WSF/PHP uses functions that accepts a 
        WSMessage instance as the argument for service
        functions. But when using WSDL mode on server side
        this is not necessary. User can write functions that will accept multiple arguments
        for functions. To specify the type of arguments that a perticular function takes, 
        there are two constant values defined as "WSMESSAGE" and "MIXED". When a function is specified as MIXED
        it means that it is a function that accepts arguements other than a WSMessage instance.
        For WSDL mode on server side, please use MIXED type functions.</p>
      Example:
      <pre>
    function echoFunction($a) {
        return $a;
    }

    $operations = array("echoString" => "echoFunction");
    $opParams = array("echoFunction"=>"MIXED");

    $svr = new WSService(array("wsdl"=>"sample.wsdl", 
                               "operations" => $operations,
                               "opParams"=>$opParams));

    $svr->reply();
 </pre>
</body>
</html>
