<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>WSO2 Web Services Framework/C - Install Guide</title>
  <meta name="CREATED" content="20070518;12321300">
  <meta name="CHANGED" content="20070611;14181900">
  <link href="style.css" rel="stylesheet" type="text/css" media="all" />
</head>

<body lang="en-US" dir="ltr">
<h1>WSO2 Web Services Framework/C - Install Guide</h1>

<a id="dependencies"/>
<h2>1. Software Dependencies</h2>

<h3>1.1. Mandatory</h3>
<ul>
	<li> Libxml2 - <a href="http://www.xmlsoft.org/">http://www.xmlsoft.org/</a> <li>
      <li> libiconv - <a href="http://www.gnu.org/software/libiconv/">http://www.gnu.org/software/libiconv/</a></li>
	<li> zlib - <a href="http://www.zlib.net/">http://www.zlib.net/</a></li>
</ul>

<h3>1.2. Optional</h3>
<ul>
	<li> Apache2 httpd - <a href="http://httpd.apache.org/">http://httpd.apache.org/</a> - Required for deploying services with httpd</li>
	<li> OpenSSL - <a href="http://www.openssl.org/">http://www.openssl.org/</a> - Required for SSL client transport and WS-Security with Apache Rampart/C </li>
	<li> Either SQLite - <a href="http://www.sqlite.org/">http://www.sqlite.org/</a> or MySQL - <a href="http://www.mysql.org/">http://www.mysql.org/</a> - Required for WS-ReliableMessaging  with Apache Sandesha2/C </li>
	<li> iksemel - <a href="http://iksemel.jabberstudio.org/">http://iksemel.jabberstudio.org/</a> - Required for XMPP transport </li>
</ul>

<a id="on_linux"/>	
<h2>2. Installing and Running on Linux</h2>

<a id="linux_src"/>
<h3>2.1 Using the source release.</h3>

    The following steps need to be taken to install and run WSF/C using source 
    distribution on Linux. You are required to have pkg-config on your system, by default most Linux systems have this tool.
<ol>
    <li> Extract the source tar package to a folder.</li>
    <li> Set WSFC_HOME environment variable pointing to the location where you 
       want to install WSO2 WSF/C. 
<pre>
	$ WSFC_HOME='/your_desired_path_to_wsfc_installation'
	$ export WSFC_HOME
</pre>
    </li>
    <li> Then go to the folder where you extracted the source.
<pre>
	$ cd /your_path_to_wsfc_source
</pre>
    </li>
    <li> Build the source <br/>
        * This can be done using the following command sequence in the directory 
          where you have extracted the source
<pre>
	$  ./configure --prefix=${WSFC_HOME}
	$ make
	$ make install
	$ make samples 
</pre>
          Use './configure --help' to find out possible configuration options. <br/>

          Note :If you do not provide a --prefix configure option, it will 
          by default be installed into /usr/local/wsf_c directory.
    </li>
<a id="linux_src_step_5"/>
    <li> Go to where you installed WSO2 WSF/C. </br>

        Start simple axis server

        * To start the simple axis server on port 9090 run the following commands
<pre>
	$ cd ${WSFC_HOME}/bin
	$ ./axis2_http_server
</pre>
            To see the possible command line options run ./axis2_http_server -h
            Note : If you run into shared library problems, try setting the 
            LD_LIBRARY_PATH
<pre>
	$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${WSFC_HOME}/lib
</pre>
            Run the wsclient in a new shell
<pre>
	$ cd /your_path_to_wso2_wsfc/bin
	$ ./wsclient --soap http://localhost:9090/axis2/services/echo < samples/wsclient/data/echo.xml
</pre>
            You can also run the sample shell scripts given for wsclient
<pre>
	$ cd /your_path_to_wso2_wsfc/bin/samples/wsclient
	$ sh echo.sh
</pre>
            To see the possible command line options run ./wsclient --help or ./wsclient -h
</ol>

<a id="linux_rpm"/>
<h3>2.2. Using the RPM package</h3>
	You can install the RPM package using the following command
<pre>
	$ rpm -i &lt;wso2-wsf-c.rpm.file.name&gt;
</pre>
	This will install WSO2 WSF/C to /usr/local/wsf_c/

	Set the WSFC_HOME environment variable to that location
<pre>
	$ WSFC_HOME=/usr/local/wsf_c/
	$ export WSFC_HOME
</pre>
	To run and test the installation, you can follow the <a href="#linux_src_step_5">step 5 in section 2.1.</a> above 

<a id="linux_deb"/>
<h3>2.3. Using the deb package</h3>
	You can install the deb package using the following command
<pre>
	$ dpkg -i &lt;wso2-wsf-c.deb.file.name&gt;
</pre>	
  	This will install WSO2 WSF/C to /usr/local/wsf_c/

	Set the WSFC_HOME environment variable to that location
<pre>
	$ WSFC_HOME=/usr/local/wsf_c/
	$ export WSFC_HOME
</pre>
	To run and test the installation, you can follow the <a href="#linux_src_step_5">step 5 in section 2.1.</a> above 

<a id="on_win"/>
<h2>3. Installing and Running on Microsoft Windows (Win32)</h2>


This can be done using either binary or source distribution.
<a id="win_binary"/>
<h3>3. 1. Using Binary Release</h3>

<h4>3.1.1. Requirements</h4>

    The binaries shipped with this version are compiled with Microsoft Visual 
    Studio Compiler (cl) <br/>

    (Note: you can download Microsoft VSExpress2005 edition from the Microsoft 
    Web site and install it to run these binaries) <br/>

    You also need have a look at and install the dependencies mentioned in <a href="#dependencies">section 1.</a> above.<br/>

<h4>3.1.2. Installing and Running The Binaries</h4>
<ol>
    <li> Extract the binary distribution to a folder of your choice. (example: C:\wsfc)</li>
<a id="win_binary_step2"/>
    <li> Copy libxml2.dll, iconv.dll and zlib1.dll downloaded to C:\wsfc\lib <br/>

    you need to set a couple of environment variables before you can 
    run the server and wsclient. <br/>

        * Set the variable WSFC_HOME to the deploy folder (C:\wsfc)
<pre>
		&gt; set WSFC_HOME=C:\wsfc
</pre>
        * Add the path to lib directory to the PATH variable (%WSFC_HOME%\lib)
<pre>
		&gt; set PATH=%PATH%;%WSFC_HOME%\lib
</pre>
    Now everything is set to run the server 
<pre>
		&gt; axis2_http_server.exe
</pre>

    If the server is running successfully you should see the message <br/> 
    "Started Simple Axis2 HTTP Server..." <br/>

    (Note: You may provide command line options to change the default behavior. 
    Use the command "axis2_http_server.exe -h" to learn about the usage) <br/>

    Run the wsclient in a new DOS shell
<pre>
    &gt; cd c:\wsfc\bin
    &gt; wsclient --soap http://localhost:9090/axis2/services/echo < samples/wsclient/data/echo.xml
</pre>

    To see the possible command line options run wsclient --help or wsclient -h <br/>

    You can also run the sample batch scripts given for wsclient
<pre>
    &gt; cd c:\wsfc\bin\samples\wsclient
    &gt; echo.bat
</pre>
    </li>
</ol>

<a id="win_src"/>
<h3>3.2 Using the Source Release</h3>

<h4>3.2.1. Requirements</h4>
   
    The makefile shipped with this version needs Microsoft Visual Studio 
    Compiler (cl) and nmake build tool. <br/>

    (Note: You can download Microsoft VSExpress2005 edition and Platform SDK 
    from Microsoft Web site. You will need to add the path to Platform SDK 
    Include and Lib folders to makefile) <br/>

    You also need have a look at and install the dependencies mentioned in <a href="#dependencies">section 1.</a> above. <br/>

<h4>3.2.2. Editing configure.in File</h4>

    The configure.in file contains the user specific configuration parameters.
    Please have a look at this file and set the settings to match your system's settings. <br/>

    Settings for Apache Axis2/C are mandatory. Settings for Apache Rampart/C and Apache Sandesha2/C are optional and needs to be set only if you want to build those. <br/>

    The comments in the configure.in file explain each setting, please have a look at the comments to get an understanding on what each setting means. <br/>

<h4>3.2.3. Compiling The Source</h4>

    Extract the source distribution to a folder of your choice. (Example: C:\wsfc)
    Edit the configure.in file and set the configure parameters to match your system. <br/>
    Open a DOS shell, and go to where the extracted source is
<pre>
        &gt; cd C:\wsfc
</pre>
    Run the build.bat batch file
<pre>
        &gt; build.bat
</pre>
    (Note: You may need to set the PATH environment variable to vcvars32.bat if 
    Windows complaints that it cannot find this batch file when running the build.bat file)

<h4>3.2.4. Running The Binaries</h4>

    Please have a look at the <a href="#win_binary_step2">step 2 of section 3.1.2.</a> above.

</body>
</html>
