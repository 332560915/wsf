<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>WSO2 WSF Installation Guide</title>
  <link href="style/api_style.css" rel="stylesheet" type="text/css"
  media="all" />
</head>

<body xml:lang="en">
<h1>WSO2 WSF/Ruby Installation Guide</h1>

<p>This document guides you on how to install the WSO2 Web Services
Framework/Ruby extension, and run the server and client samples on Linux and
Microsoft Windows operating systems.</p>

<p>Please send your feedback to the user mailing list: <a
href="mailto:wsf-ruby-user@wso2.org">wsf-ruby-user@wso2.org</a>. Kindly see <a
href="mailto:wsf-ruby-user-request@lists.wso2.net?subject=subscribe">Home
page</a> for subscription.</p>

<h2>Contents</h2>
<ul>
  <li><a href="#Common Installation Instructions">Common Installation
    Instructions</a></li>
  <li><a href="#Pre-Installation Configurations">Pre-Installation 
    Configurations</a></li>
  <li><a href="#1.Installing and Running on Linux">Installing and Running on
    Linux</a></li>
  <li><a
    href="#2.Installing and Running on Microsoft Windows (win32)">Installing
    and Running on Microsoft Windows (win32)</a>
    <ul>
      <li><a href="#Build Ruby on Windows">Build Ruby on MS Windows</a></li>
      <li><a href="#Build WSO2 WSF for C on Windows from Source">Building
        WSO2 WSF/C on MS Windows from Source</a>
        <ul>
          <li><a href="#Requirements">Requirements</a></li>
          <li><a href="#Building WSF/Ruby From Source">Building WSF/Ruby from
            Source</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<a id="Common Installation Instructions"></a>

<h2>Common Installation Instructions</h2>

<p>To get the distributions working, you need the following installed in your
system.</p>
<ul>
  <li>Ruby 1.8.5 or later, which can be downloaded from the <a
    href="http://ftp.ruby-lang.org/pub/ruby/1.8">Ruby </a> download resources.
    <p>If you are using a pre-installed version of Ruby, please make sure that
    you have the developer version installed, so that you can compile the
    WSO2 WSF/Ruby source.</p>
  </li>
  <li>libxml2 <a href="http://xmlsoft.org/downloads.html">Download</a><a
    href="http://xmlsoft.org/downloads.html"></a> (Note: Most Linux systems
    have libxml2 by default.)</li>

    <li>zlib, iconv for win32 <a href="http://www.zlatkovic.com/pub/libxml">Download</a> (Note: Most Linux systems
    have zlib and iconv by default.). </li>

    <li>OpenSSL <a href="http://www.openssl.org/" >Download</a></li>
    <li>Sqlite or Mysql (needed for reliable messaging) <a href="http://www.sqlite.org/download.html" >Download Sqlite</a>, <a href="http://dev.mysql.com/downloads/" >Download Mysql</a>
</ul>

<a id="Pre-Installation Configurations"></a>

<h2>Pre-Installation Configurations</h2>

<p>
Before Install WSO2 WSF/RUBY, following configuration entries have to be added
to the 'rbconfig.rb' that shift with ruby package.
(under windows use '/' to seperate directories. e.g. "E:/install/wsfc")
</p>

<pre>
CONFIG["WSFC_HOME"] = "/your/wsfc/home/"
CONFIG["WSF_LOG_DIR"] = "/where/the/log/files/should/reside/"
CONFIG["WSF_LOG_LEVEL"] = "3"
</pre>

Valid Log Levels -
    <ul>
      <li>"0" - CRITICAL</li>
      <li>"1" - ERROR</li>
      <li>"2" - WARNING</li>
      <li>"3" - INFO</li>
      <li>"4" - DEBUG</li>
      <li>"5" - TRACE</li>
    </ul>
<p>
NOTE : run "ruby find_rbconfig.rb" in a console to find where this file is.
       It's /usr/local/lib/ruby/1.8/i686-linux/rbconfig.rb in my case.
</p>

<a id="1.Installing and Running on Linux"></a>

<h2>1. Installing and Running on Linux</h2>
<p>
Run "sudo sh build.sh" to setup the extension.
</p>
<a id="2.Installing and Running on Microsoft Windows (win32)"></a>

<h2>2. Installing and Running on Microsoft Windows (win32)</h2>
<a id="Build Ruby on Windows"></a>

<h3>Build Ruby on MS Windows</h3>

<p>Please refer to the README file in the win32 directory of the Ruby 
source distribution. (If you are in windows please refer to the README
in the win32 directory in the source)</p>

<a id="Build WSO2 WSF for C on Windows from Source"></a>

<h3>Build WSO2 WSF/C on MS Windows from Source</h3>
<a id="Requirements"></a>

<h4>Requirements</h4>

<p>You need to download the following:</p>
<ul>
  <li>libxml2 binary distribution</li>
  <li>zlib binary distribution</li>
  <li>iconv binary distribution</li>
</ul>
<a id="Building WSF/Ruby From Source"></a>

<h3>Building WSF/RUBY from Source</h3>

<p>1. If you have the Visual Studio command prompt, open it and change
directory to wso2-wsf-ruby extract folder.<br/>
</p>

<p>2. If not, create a new shortcut and set target to:<br />
<b>        %comspec% /k "C:\Program Files\Microsoft Visual Studio .NET
2003\Vc7\bin\vcvars32.bat"</b><br/>
</p>

<p>3. Copy the .dll and .lib files of the libxml2, zlib and iconv , OpenSSL to the 
WSFC_HOME/lib directory 
<br/>
</p>

<p>4. Once you have done it, run build.bat file in the wsf/ruby extension from the
source directory. This will build the binary distribution.</p>

</body>
</html>
